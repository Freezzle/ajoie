<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <link href="styles.css" media="all" rel="stylesheet" type="text/css" />
  </head>

  <body>
    <div class="header" th:include="common/header::header"></div>

    <div class="letterhead" th:include="common/letterhead::letterhead"></div>

    <div class="body">
      <table class="padding-all-5">
        <tr>
          <td class="top-left">
            <b>N° de référence : [[${reference}]]</b><br />
            Date d'émission : [[${#temporals.format(sentDate, 'dd.MM.yyyy')}]]<br />
            Date d'échéance : [[${#temporals.format(expirationDate, 'dd.MM.yyyy')}]]
          </td>
          <td class="top-right">
            <b>Personnes de contact</b><br />
            [[${contact}]]<br />
            [[${phone}]]
          </td>
        </tr>
      </table>
      <br />
      <table class="padding-all-5">
        <thead class="bg">
          <td class="bottom-left padding-left-5 padding-top-5 padding-bottom-5 width-40"><b>Description</b></td>
          <td class="bottom-right width-20 padding-top-5 padding-bottom-5"><b>Prix</b></td>
          <td class="bottom-center width-10 padding-top-5 padding-bottom-5"><b>Quantité</b></td>
          <td class="bottom-right padding-right-5 width-30 padding-top-5 padding-bottom-5"><b>Montant</b></td>
        </thead>

        <tr>
          <td colspan="4">&nbsp;</td>
        </tr>
        <tr th:each="invoice: ${invoices}">
          <td class="center-left padding-left-5" th:text="${invoice.getLabel()}" />
          <td class="center-right" th:text="${#numbers.formatDecimal(invoice.getCustomAmount(), 1, 2, 'POINT')}" />
          <td class="center-center" th:text="${invoice.getQuantity()}" />
          <td class="center-right padding-right-5" th:text="${#numbers.formatDecimal(invoice.getTotalAmount(), 1, 2, 'POINT')}" />
        </tr>
        <tr>
          <td colspan="4">&nbsp;</td>
        </tr>
        <tr th:if="${hasPaidSomething}">
          <td class="center-left padding-left-5">Paiements reçus</td>
          <td class="center-right">&nbsp;</td>
          <td class="center-center">&nbsp;</td>
          <td class="center-right padding-right-5" th:text="${#numbers.formatDecimal(paymentsTotal, 1, 2, 'POINT')}" />
        </tr>
        <tr th:if="${hasPaidSomething}">
          <td colspan="4">&nbsp;</td>
        </tr>
        <tr class="bg">
          <td class="top-left padding-left-5 padding-bottom-5 padding-top-5" colspan="3"><b>Montant à payer</b></td>
          <td class="top-right padding-right-5 padding-bottom-5 padding-top-5">
            <b>[[${#numbers.formatDecimal(total, 1, 2, 'POINT')}]]</b>
          </td>
        </tr>
      </table>
      <br />
      <br />
      <div>
        <b>Important</b>
        <hr class="border-thin" />
        <div class="padding-left-5">
          - Veuillez effectuer votre paiement via E-banking <b>en indiquant votre nom et prénom</b>.<br />
          - Le délai de paiement est de <b>30 jours</b>. Sans réception du paiement dans les délais, votre place sera considérée comme
          vacante.
        </div>
        <br />
        <b>Coordonnées bancaires</b>
        <hr class="border-thin" />
        <div class="padding-left-5">
          [[${iban}]]<br />
          [[${sender.getEnterpriseName()}]]<br />
          [[${sender.getStreet()}]]<br />
          [[${sender.getCity()}]]<br />
        </div>
      </div>

      <br />
      <div>
        <p>Le Salon de [[${sender.getEnterpriseName()}]] vous remercie pour votre confiance. Au plaisir de vous voir.</p>
      </div>
    </div>
    <div class="footer" th:include="common/footer::footer"></div>
  </body>
</html>
